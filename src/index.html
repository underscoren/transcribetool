<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>TranscribeTool</title>
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="index.css">
  </head>
  <body>
    <h4 class="display-4 mb-5 mt-2 ms-3">TranscribeTool</h4>
    
    <div class="container h-100">
      <div id="choose-folder" class="my-auto">
        <p class="text-center mt-3">
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="me-2" width="4rem" height="4rem" viewBox="0 0 16 16"><path d="M11.8 8.3l-3.2 2c-.3.1-.6 0-.6-.4V9s-2.6-.3-4 2.4c.6-4.8 3.1-4.8 4-4.8v-.8c0-.3.3-.5.6-.3l3.2 2c.3.1.3.5 0 .7z"/><path d="M.5 3v.9a2 2 0 00-.3 1.3l.6 7a2 2 0 002 1.8h10.4a2 2 0 002-1.8l.6-7a2 2 0 00-2-2.2h-4a2 2 0 01-1.4-.6l-.8-.8A2 2 0 006.2 1H2.5a2 2 0 00-2 2zm.7 2a1 1 0 011-1h11.6a1 1 0 011 1l-.6 7a1 1 0 01-1 1H2.8a1 1 0 01-1-1l-.6-7zm5-3a1 1 0 01.7.3l.7.7H2.2a2 2 0 00-.7.1V3a1 1 0 011-1h3.7z"/></svg>
          Drop folder here... 
        </p>
      </div>
      
      <div id="loading-div" class="flex-column justify-content-center align-items-center" style="display: none;">
        <div class="spinner-border m-5" role="status"><span class="visually-hidden">Loading...</span></div>
        <div class="progress w-100 mt-5">
          <div id="loading-progressbar" class="progress-bar bg-info" style="color: #000; width: 0%;" role="progressbar"></div>
        </div>
      </div>
      
      <div id="transcription-container" style="display: none;">
        <h3>Audio Stats</h3>
        <div class="mx-1">
          <p class="mb-0">Total Clips: <span id="totalClips"></span></p>
          <p class="mb-0">Total Audio Duration: <span id="totalDuration"></span></p>
          <p class="mb-0">Average Clip Duration: <span id="averageDuration"></span>s</p>
          <p class="mb-0">Shortest Clip: <span id="minDuration"></span>s</p>
          <p class="mb-0">Longest Clip: <span id="maxDuration"></span>s</p>
          <p class="mb-0">Number of Transcibed Clips: <span id="totalTranscribed"></span></p>
          <p class="mb-0">Percentage of all Clips Transcribed: <span id="percentageTranscribed"></span>%</p>
          <p class="mb-0">Number of Clips with Problems: <span id="erroredClips"></span></p>
        </div>

        <div id="audio-chart-container" class="mb-5 mx-auto">
          <canvas id="audio-chart"></canvas>
        </div>
        
        <h3>Transcriptions</h3>
        <ul id="textbox-list" class="list-group list-group-flush"></ul>

        <div class="mt-4 mb-5">
          <button id="export" class="btn btn-primary">Export Transcript</button>
        </div>
      </div>
    </div>

    <!-- export modal -->
    <div class="modal fade" id="export-modal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Export</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            Export successful. The transcript file <code>transcript.txt</code> has been saved to <code><span id="export-output-path"></span></code>.
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- alert container -->
    <div class="fixed-bottom m-3" id="fixed-bottom-container"></div>

    <!-- inline svg for symbols -->
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
      <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
        <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
      </symbol>
    </svg>
  </body>
  <script src="main.js"></script>
</html>
